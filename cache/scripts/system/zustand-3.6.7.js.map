{"version":3,"file":"zustand-3.6.7.js","sources":["../zustand-3.6.7.js"],"sourcesContent":["import { useReducer, useRef, useDebugValue, useEffect, useLayoutEffect } from 'react';\n\nfunction createStore(createState) {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\n    console.warn(\"[DEPRECATED] Please use `subscribeWithSelector` middleware\");\n    let currentSlice = selector(state);\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => listeners.clear();\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\nconst useIsomorphicLayoutEffect = isSSR ? useEffect : useLayoutEffect;\nfunction create(createState) {\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useStore = (selector = api.getState, equalityFn = Object.is) => {\n    const [, forceUpdate] = useReducer((c) => c + 1, 0);\n    const state = api.getState();\n    const stateRef = useRef(state);\n    const selectorRef = useRef(selector);\n    const equalityFnRef = useRef(equalityFn);\n    const erroredRef = useRef(false);\n    const currentSliceRef = useRef();\n    if (currentSliceRef.current === void 0) {\n      currentSliceRef.current = selector(state);\n    }\n    let newStateSlice;\n    let hasNewStateSlice = false;\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = useRef(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = api.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n      const unsubscribe = api.subscribe(listener);\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n      return unsubscribe;\n    }, []);\n    const sliceToReturn = hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n    useDebugValue(sliceToReturn);\n    return sliceToReturn;\n  };\n  Object.assign(useStore, api);\n  useStore[Symbol.iterator] = function() {\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n    const items = [useStore, api];\n    return {\n      next() {\n        const done = items.length <= 0;\n        return { value: items.shift(), done };\n      }\n    };\n  };\n  return useStore;\n}\n\nexport { create as default };\n"],"names":[],"mappings":"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"}